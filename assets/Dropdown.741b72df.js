import{y as q,z as w,f as m,m as h,k as E,h as v,Q as z,s as $,H as S,U as B,G as R,V as K,W as G,c as D,D as Q,X as F,Y as V,w as X,Z as Y,$ as Z,a0 as O}from"./index.582e0ce8.js";import{c as j,r as J,m as _,u as ee,a as te}from"./mergeOptionsWithPopperConfig.995d96af.js";import{u as ne}from"./Example.a02acc5e.js";const oe=q(null),P=oe,re=()=>{};function se(t={}){const e=w(P),[c,l]=m(),[u,s]=m(!1),[C,g]=j({}),a=h({fixed:!1,popperConfig:{},usePopper:!!e},t),d=E(()=>e?.show==null?!!a.show:e.show);v(()=>{d()&&!u()&&s(!0)}),z(()=>{g(J(_({placement:a.placement||e?.placement||"bottom-start",enabled:a.usePopper??!!e,enableEvents:a.enableEventListeners==null?d():a.enableEventListeners,offset:a.offset,flip:a.flip,fixed:a.fixed,arrowElement:c(),popperConfig:a.popperConfig})))});const y=k=>{e?.toggle(!1,k)},f=ee(()=>e?.toggleElement,()=>e?.menuElement,C);return v(()=>{e?.menuElement&&te(()=>e.menuElement,y,{get clickTrigger(){return a.rootCloseEvent},get disabled(){return!d()}})}),[h({get ref(){return e?.setMenu||re},get style(){return f()?.styles.popper},get"aria-labelledby"(){return e?.toggleElement?.id}},f()?.attributes.popper??{}),{get show(){return d()},get placement(){return e?.placement},get hasShown(){return u()},get toggle(){return e?.toggle},get popper(){return a.usePopper?f():null},get arrowProps(){return a.usePopper?{ref:l,...f()?.attributes.arrow,style:f()?.styles.arrow}:{}}}]}function ae(t){const[e,c]=$(t,["children"]),[l,u]=se(c);return E(()=>e.children(l,u))}const H=t=>t.getAttribute("role")?.toLowerCase()==="menu",ce=()=>{};function le(){const t=ne(),e=w(P);return[{id:t,get ref(){return e.setToggle||ce},onClick:l=>{e.toggle(!e.show,l)},get"aria-expanded"(){return!!e.show},get"aria-haspopup"(){return e.menuElement&&H(e.menuElement)?!0:void 0}},{get show(){return e.show},get toggle(){return e.toggle}}]}function ue({children:t}){const[e,c]=le();return E(()=>t(e,c))}function ie(t){const e=w(S),c=w(B),{activeKey:l}=c||{},u=R(t.key,t.href),s=E(()=>t.active==null&&t.key!=null?R(l)===u:t.active);return[{onClick:g=>{if(t.disabled)return;let a=F(t.onClick,g);e&&!a.isPropagationStopped&&e(u,g)},get"aria-disabled"(){return t.disabled||void 0},get"aria-selected"(){return s()},[K("dropdown-item")]:""},{get isActive(){return s()}}]}const pe=t=>{const[e,c]=$(h({as:G},t),["eventKey","disabled","onClick","active","as"]),[l]=ie({get key(){return e.eventKey},get href(){return c.href},get disabled(){return e.disabled},get onClick(){return e.onClick},get active(){return e.active}});return D(Q,h({get component(){return e.as}},c,l))},ge=pe;function T(t){const e=h({itemSelector:`* [${K("dropdown-item")}]`,placement:"bottom-start"},t),c=V(),[l,u]=X(()=>e.show,()=>e.defaultShow,e.onToggle),[s,C]=m(),[g,a]=m(),[d,y]=m(null),f=w(S),I=()=>s()?.contains(s().ownerDocument.activeElement),b=(n,o,r=o?.type)=>{u(n,{originalEvent:o,source:r})},k=(n,o)=>{F(p=>{e.onSelect?.(n,p),b(!1,p,"select")},o).isPropagationStopped||f?.(n,o)},N={toggle:b,setMenu:C,setToggle:a,get placement(){return e.placement},get show(){return l()},get menuElement(){return s()},get toggleElement(){return g()}},M=()=>{const n=g();n&&n.focus&&n.focus()},W=()=>{const n=d();y(null);let o=e.focusFirstItemOnShow;if(o==null&&(o=s()&&H(s())?"keyboard":!1),o===!1||o==="keyboard"&&!/^key.+$/.test(n))return;const r=O(s(),e.itemSelector)[0];r&&r.focus&&r.focus()};v(()=>{l()?W():I()&&M()});const A=(n,o)=>{if(!s())return null;const r=O(s(),e.itemSelector);let p=r.indexOf(n)+o;return p=Math.max(0,Math.min(p,r.length)),r[p]},L=n=>{const{key:o}=n,r=n.target,p=s()?.contains(r),U=g()?.contains(r);if(/input|textarea/i.test(r.tagName)&&(o===" "||o!=="Escape"&&p||o==="Escape"&&r.type==="search")||!p&&!U||o==="Tab"&&(!s()||!l))return;y(n.type);const x={originalEvent:n,source:n.type};switch(o){case"ArrowUp":{const i=A(r,-1);i&&i.focus&&i.focus(),n.preventDefault();return}case"ArrowDown":if(n.preventDefault(),!l)u(!0,x);else{const i=A(r,1);i&&i.focus&&i.focus()}return;case"Tab":Z(r.ownerDocument,"keyup",i=>{(i.key==="Tab"&&!i.target||!s()?.contains(i.target))&&u(!1,x)},{once:!0});break;case"Escape":o==="Escape"&&(n.preventDefault(),n.stopPropagation()),u(!1,x),M();break}};return c.document.addEventListener("keydown",L),Y(()=>c.document.removeEventListener("keydown",L)),D(S.Provider,{value:k,get children(){return D(P.Provider,{value:N,get children(){return e.children}})}})}T.Menu=ae;T.Toggle=ue;T.Item=ge;export{P as D,se as a,le as b,T as c,ie as u};
