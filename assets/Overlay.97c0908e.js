import{f as u,h as m,a2 as k,a3 as R,Z as S,av as T,k as n,Q as E,B as D,c as s,aw as K,S as H}from"./index.0c258ca1.js";import{a as M,c as V,u as W,r as A,m as B}from"./store.c77428f9.js";const F=27,I=()=>{};function L(e,o,a={}){u(!1);const c=o||I;M(e,c,{get disabled(){return a.disabled},get clickTrigger(){return a.clickTrigger}});const g=t=>{t.keyCode===F&&c(t)};m(()=>{if(a.disabled||e()==null)return;const t=k(e());let r=(t.defaultView||window).event;const l=R(t,"keyup",d=>{if(d===r){r=void 0;return}g(d)});S(()=>{l()})})}const Q=e=>{const[o,a]=u(),[c,g]=u(),[t,r]=u(!e.show),l=T({get ref(){return e.container}}),[d,C]=V({}),f=n(()=>!!(e.show||e.transition&&!t()));E(()=>{C(A(B({enabled:f(),placement:e.placement,enableEvents:f(),containerPadding:e.containerPadding||5,flip:e.flip,offset:e.offset,arrowElement:c(),popperConfig:e.popperConfig??{}})))});const i=W(e.target,o,d);E(()=>{e.show?t()&&r(!1):!e.transition&&!t()&&r(!0)});const y=(...P)=>{r(!0),e.onExited&&e.onExited(...P)};m(()=>{o()&&L(o,e.onHide,{get disabled(){return!e.rootClose||e.rootCloseDisabled||!e.show},get clickTrigger(){return e.rootCloseEvent}})});const b=n(()=>({...i()?.attributes.popper,style:i()?.styles.popper,ref:a})),x=n(()=>({...i()?.attributes.arrow,style:i()?.styles.arrow,ref:g})),v=n(()=>({popper:i(),placement:e.placement,show:!!e.show})),O=D(()=>e.children),h=()=>n(()=>O()(b,x,v));let w;return s(H,{get when(){return n(()=>!!l())()&&f()},get children(){return s(K,{get mount(){return l()},get children(){return n(()=>!!(w=e.transition))()?s(w,{appear:!0,get in(){return e.show},get onExit(){return e.onExit},get onExiting(){return e.onExiting},onExited:y,get onEnter(){return e.onEnter},get onEntering(){return e.onEntering},get onEntered(){return e.onEntered},get children(){return s(h,{})}}):s(h,{})}})}})},$=Q;export{$ as O};
