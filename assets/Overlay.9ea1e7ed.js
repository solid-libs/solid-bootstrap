import{f as d,h as u,a2 as k,a3 as R,Z as S,av as T,k as r,B as D,c,aw as K,S as W,ax as H,ay as M}from"./index.a8c27b5b.js";import{a as V,c as A,u as B,r as F,m as I}from"./store.bc2dca4a.js";const L=27,U=()=>{};function Z(e,o,a={}){d(!1);const l=o||U;V(e,l,{get disabled(){return a.disabled},get clickTrigger(){return a.clickTrigger}});const g=t=>{t.keyCode===L&&l(t)};u(()=>{if(a.disabled||e()==null)return;const t=k(e());let n=(t.defaultView||window).event;const f=R(t,"keyup",i=>{if(i===n){n=void 0;return}g(i)});S(()=>{f()})})}const $=e=>{const[o,a]=d(),[l,g]=d(),[t,n]=d(!e.show),f=M(),i=T({get ref(){return e.container}}),[C,y]=A({}),h=r(()=>!!(e.show||e.transition&&!t()));u(()=>{y(F(I({enabled:h(),placement:e.placement,enableEvents:h(),containerPadding:e.containerPadding||5,flip:e.flip,offset:e.offset,arrowElement:l(),popperConfig:e.popperConfig??{}})))});const s=B(e.target,o,C);u(()=>{e.show?n(!1):e.transition||n(!0)});const x=(...w)=>{n(!0),e.onExited&&e.onExited(...w)};u(()=>{o()&&Z(o,e.onHide,{get disabled(){return!e.rootClose||e.rootCloseDisabled||!e.show},get clickTrigger(){return e.rootCloseEvent}})});const b=r(()=>({...s()?.attributes.popper,style:s()?.styles.popper,ref:a})),O=r(()=>({...s()?.attributes.arrow,style:s()?.styles.arrow,ref:g})),v=r(()=>({popper:s(),placement:e.placement,show:!!e.show})),P=D(()=>e.children),E=()=>{const w=P()(b,O,v);return H(f,()=>w)};let m;return c(W,{get when(){return r(()=>!!i())()&&h()},get children(){return c(K,{get mount(){return i()},get children(){return r(()=>!!(m=e.transition))()?c(m,{appear:!0,get in(){return e.show},get onExit(){return e.onExit},get onExiting(){return e.onExiting},onExited:x,get onEnter(){return e.onEnter},get onEntering(){return e.onEntering},get onEntered(){return e.onEntered},get children(){return c(E,{})}}):c(E,{})}})}})},z=$;export{z as O};
