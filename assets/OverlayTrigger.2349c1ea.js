import{y as E,s as O,m as g,F as P,f,c as h,a8 as M,w as $,B as b,a4 as k}from"./index.a8c27b5b.js";import{O as F}from"./Overlay.9ea1e7ed.js";const N=E(),R=N,B={transition:P,rootClose:!1,show:!1,placement:"top",popperConfig:{}},H=r=>{const[e,d]=O(g(B,r),["children","transition","popperConfig","ref"]),a=e.transition===!0?P:e.transition||void 0,[s,o]=f(),[i,p]=f(),[n,l]=f(),u={get wrapperProps(){return s()?.()},get arrowProps(){return i()?.()},get metadata(){return n()?.()}};return h(R.Provider,{value:u,get children(){return h(F,g(d,{get popperConfig(){return e.popperConfig},transition:a,children:(c,w,v)=>(M(()=>{o(()=>c),p(()=>w),l(()=>v)}),e.children)}))}})},j=H;function z(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function C(r,e,d){const[a]=e,s=a.currentTarget,o=a.relatedTarget;(!o||o!==s)&&!k(s,o)&&r(...e)}const A={defaultShow:!1,trigger:["hover","focus"],popperConfig:{}};function G(r){const[e,d]=O(g(A,{flip:r.placement&&r.placement.indexOf("auto")!==-1},r),["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]);let[a,s]=f(),o,i="";const[p,n]=$(()=>e.show,()=>e.defaultShow,e.onToggle),l=z(e.delay),u=()=>{if(window.clearTimeout(o),i="show",!l.show){n(!0);return}o=window.setTimeout(()=>{i==="show"&&n(!0)},l.show)},c=()=>{if(window.clearTimeout(o),i="hide",!l.hide){n(!1);return}o=window.setTimeout(()=>{i==="hide"&&n(!1)},l.hide)},w=(...t)=>{u()},v=(...t)=>{c()},T=(...t)=>{n(!p())},y=(...t)=>{C(u,t)},x=(...t)=>{C(c,t)},S=t=>{const m=e.trigger==null?[]:[].concat(e.trigger);m.indexOf("click")!==-1&&t.addEventListener("click",T),m.indexOf("focus")!==-1&&(t.addEventListener("focus",w),t.addEventListener("blur",v)),m.indexOf("hover")!==-1&&(t.addEventListener("mouseover",y),t.addEventListener("mouseout",x))},L=b(()=>e.children);return[h(()=>{let t=L();for(;typeof t=="function";)t=t();return s(t),S(t),t},{}),h(j,g(d,{get show(){return p()},onHide:c,get flip(){return e.flip},get placement(){return e.placement},get popperConfig(){return e.popperConfig},target:a,get children(){return e.overlay}}))]}export{R as O,G as a};
