import{s as m,m as d,F as v,c as g,f as x,w as E,B as k,a8 as F}from"./index.6a6f2952.js";import{a as M}from"./Overlay.2c7f72e6.js";const N={transition:v,rootClose:!1,show:!1,placement:"top",popperConfig:{}},R=o=>{const[t,i]=m(d(N,o),["children","transition","ref"]),n=t.transition===!0?v:t.transition||void 0;return g(M,d(i,{transition:n,get children(){return t.children}}))},$=R;function b(o){return o&&typeof o=="object"?o:{show:o,hide:o}}function w(o,t,i){const[n]=t,a=n.currentTarget,r=n.relatedTarget;(!r||r!==a)&&!F(a,r)&&o(...t)}const B={defaultShow:!1,trigger:["hover","focus"],popperConfig:{}};function D(o){const[t,i]=m(d(B,{flip:o.placement&&o.placement.indexOf("auto")!==-1},o),["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]);let[n,a]=x(),r,l="";const[h,s]=E(()=>t.show,()=>t.defaultShow,t.onToggle),c=b(t.delay),p=()=>{if(window.clearTimeout(r),l="show",!c.show){s(!0);return}r=window.setTimeout(()=>{l==="show"&&s(!0)},c.show)},u=()=>{if(window.clearTimeout(r),l="hide",!c.hide){s(!1);return}r=window.setTimeout(()=>{l==="hide"&&s(!1)},c.hide)},O=(...e)=>{p()},T=(...e)=>{u()},C=(...e)=>{s(!h())},y=(...e)=>{w(p,e)},S=(...e)=>{w(u,e)},L=e=>{const f=t.trigger==null?[]:[].concat(t.trigger);f.indexOf("click")!==-1&&e.addEventListener("click",C),f.indexOf("focus")!==-1&&(e.addEventListener("focus",O),e.addEventListener("blur",T)),f.indexOf("hover")!==-1&&(e.addEventListener("mouseover",y),e.addEventListener("mouseout",S))},P=k(()=>t.children);return[g(()=>{let e=P();for(;typeof e=="function";)e=e();return a(e),L(e),e},{}),g($,d(i,{get show(){return h()},onHide:u,get flip(){return t.flip},get placement(){return t.placement},get popperConfig(){return t.popperConfig},target:n,get children(){return t.overlay}}))]}export{D as O};
